(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{6704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i=n(5155),a=n(2115),s=n(2296),r=n(9447),o=n(4616),d=n(3717),l=n(2525),c=n(4416);let m=["Lương","Thưởng","Kh\xe1c"],g=["Ăn uống","Đi lại","Mua sắm"],u=[{id:1,type:"income",amount:5e6,reason:"Lương th\xe1ng 7",category:"Lương",date:new Date("2025-07-10")},{id:2,type:"expense",amount:1e5,reason:"Ăn trưa",category:"Ăn uống",date:new Date("2025-07-11")}];function x(){let[e,t]=(0,a.useState)("income"),[n,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),[j,v]=(0,a.useState)(u),[N,w]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[C,T]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=new Date;x((0,s.GP)(function(e,t){let n=(0,r.a)(e,void 0);return n.setDate(1),n.setHours(0,0,0,0),n}(e),"yyyy-MM-dd")),y((0,s.GP)(function(e,t){let n=(0,r.a)(e,void 0),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}(e),"yyyy-MM-dd"))},[]);let z=j.filter(t=>t.type===e).filter(e=>{let t=e.date.toISOString().split("T")[0];return(!n||t>=n)&&(!b||t<=b)&&(!p||e.category===p)}).sort((e,t)=>t.date.getTime()-e.date.getTime()),M=e=>{T(e),w(!0)},D=e=>{v(t=>t.filter(t=>t.id!==e)),k(null)};return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6 md:p-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Quản l\xfd giao dịch"}),(0,i.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,i.jsx)("button",{onClick:()=>t("income"),className:"px-4 py-2 font-medium text-sm transition-colors duration-200 ".concat("income"===e?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-indigo-600"),children:"Tiền thu"}),(0,i.jsx)("button",{onClick:()=>t("expense"),className:"px-4 py-2 font-medium text-sm transition-colors duration-200 ".concat("expense"===e?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-indigo-600"),children:"Tiền chi"})]}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Từ ng\xe0y"}),(0,i.jsx)("input",{type:"date",value:n,onChange:e=>x(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đến ng\xe0y"}),(0,i.jsx)("input",{type:"date",value:b,onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-800 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mục"}),(0,i.jsxs)("select",{value:p,onChange:e=>f(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,i.jsx)("option",{value:"",children:"-- Tất cả --"}),("income"===e?m:g).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]}),(0,i.jsx)("div",{className:"flex items-end",children:(0,i.jsxs)("button",{onClick:()=>{T(null),w(!0)},className:"w-full flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[(0,i.jsx)(o.A,{size:16,className:"mr-2"}),"Tạo mới"]})})]})}),(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:0===z.length?(0,i.jsx)("p",{className:"p-4 text-gray-500 text-center",children:"Kh\xf4ng c\xf3 giao dịch n\xe0o"}):z.map(e=>(0,i.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-gray-800",children:e.reason}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[e.category," – ",(0,s.GP)(e.date,"dd/MM/yyyy")]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"font-medium ".concat("income"===e.type?"text-green-600":"text-red-600"),children:[new Intl.NumberFormat("vi-VN").format(e.amount)," đ"]}),(0,i.jsx)("button",{title:"Sửa",onClick:()=>M(e),className:"text-gray-500 hover:text-indigo-600",children:(0,i.jsx)(d.A,{size:16})}),(0,i.jsx)("button",{title:"X\xf3a",onClick:()=>k(e.id),className:"text-gray-500 hover:text-red-600",children:(0,i.jsx)(l.A,{size:16})})]})]},e.id))}),N&&(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-20 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative animate-in fade-in zoom-in-95 duration-200",children:[(0,i.jsx)("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,i.jsx)(c.A,{size:20})}),(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:C?"income"===e?"Sửa giao dịch thu":"Sửa giao dịch chi":"income"===e?"Th\xeam giao dịch thu":"Th\xeam giao dịch chi"}),(0,i.jsx)(h,{type:e,editItem:C,onCancel:()=>w(!1),onSave:e=>{C?v(t=>t.map(t=>t.id===e.id?e:t)):v([...j,e]),w(!1),T(null)}})]})}),null!==S&&(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-20 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 relative animate-in fade-in zoom-in-95 duration-200",children:[(0,i.jsx)("button",{onClick:()=>k(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,i.jsx)(c.A,{size:20})}),(0,i.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"X\xe1c nhận x\xf3a"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:"Bạn c\xf3 chắc chắn muốn x\xf3a giao dịch n\xe0y?"}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{onClick:()=>D(S),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200",children:"X\xe1c nhận"}),(0,i.jsx)("button",{onClick:()=>k(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors duration-200",children:"Hủy"})]})]})})]})}function h(e){let{type:t,editItem:n,onSave:s,onCancel:r}=e,[o,d]=(0,a.useState)(n?n.amount.toString():""),[l,c]=(0,a.useState)(n?n.reason:""),[u,x]=(0,a.useState)(n?n.category:""),[h,b]=(0,a.useState)(n?n.date.toISOString().split("T")[0]:new Date().toISOString().split("T")[0]);return(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Số tiền"}),(0,i.jsx)("input",{type:"number",placeholder:"Nhập số tiền",value:o,onChange:e=>d(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"L\xfd do"}),(0,i.jsx)("input",{type:"text",placeholder:"Nhập l\xfd do",value:l,onChange:e=>c(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mục"}),(0,i.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,i.jsx)("option",{value:"",children:"-- Chọn danh mục --"}),("income"===t?m:g).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ng\xe0y"}),(0,i.jsx)("input",{type:"date",value:h,onChange:e=>b(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,i.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,i.jsx)("button",{onClick:function(){if(!o||!l||!u||!h)return void alert("Vui l\xf2ng nhập đầy đủ th\xf4ng tin");s({id:n?n.id:Math.random(),type:t,amount:parseInt(o),reason:l,category:u,date:new Date(h)})},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:"Lưu"}),(0,i.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors duration-200",children:"Hủy"})]})]})}},8490:(e,t,n)=>{Promise.resolve().then(n.bind(n,6704))}},e=>{var t=t=>e(e.s=t);e.O(0,[392,441,684,358],()=>t(8490)),_N_E=e.O()}]);